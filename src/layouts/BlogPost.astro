---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';

const { title, description, pubDate, updatedDate } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body class="font-serif text-dark-gray bg-warm-white">
		<div class="min-h-screen flex flex-col">
			<!--
				Main article container
				flex-grow: Expands to fill space, pushing footer down
				max-w-[650px]: 650px max width for optimal reading
				mx-auto: Center horizontally
				px-4: Horizontal padding on mobile
				py-12: Vertical spacing (48px top/bottom)
			-->
			<main class="flex-grow w-full max-w-[650px] mx-auto px-4 py-12">
				<article>
					<!--
						Article header
						mb-12: 48px bottom margin
						text-center: Center-aligned
						border-b border-gray-200: Bottom border separator
						pb-8: 32px bottom padding
					-->
					<header class="mb-12 text-center border-b border-gray-200 pb-8">
						<!--
							Publication date
							text-muted-gray: Secondary text color
							text-sm: Small text (14px)
							font-sans: System fonts for UI
							mb-4: 16px bottom margin
						-->
						<div class="text-muted-gray text-sm font-sans mb-4">
							<FormattedDate date={pubDate} />
							{
								updatedDate && (
									<span class="italic">
										{' '}
										(Updated: <FormattedDate date={updatedDate} />)
									</span>
								)
							}
						</div>

						<!--
							Article title
							font-sans: System fonts (not Lora)
							text-4xl md:text-5xl: Responsive sizing (36px â†’ 48px on tablet+)
							font-bold: Bold weight
							text-dark-gray: Primary text color
							leading-tight: Tight line height for large text
							m-0: Remove default margin
						-->
						<h1 class="font-sans text-4xl md:text-5xl font-bold text-dark-gray leading-tight m-0">
							{title}
						</h1>
					</header>

					<!--
						Article body with Tailwind Typography
						prose: Base typography styles from @tailwindcss/typography
						prose-lg: Larger prose size (18px base, matches our design)
						max-w-none: Allow prose to use full 650px width

						The prose classes automatically style:
						- Headings (h1-h6)
						- Paragraphs with optimal spacing
						- Links with hover effects
						- Lists (ul, ol)
						- Blockquotes
						- Code blocks and inline code
						- Tables
						- Images
					-->
					<div class="prose prose-lg max-w-none">
						<slot />
					</div>
				</article>
			</main>

			<Footer />
		</div>

		<!--
			Code block copy button JavaScript
			Functionality extracted to separate TypeScript file for better organization
		-->
		<script>
			import '../scripts/code-copy';
		</script>
	</body>
</html>
